<HomeScreen>:
    name: 'ScreenManager'
    
    BoxLayout:
        orientation: 'horizontal'
        
        sm_main: sm_main
        sm: sm        
                
        ScreenManager:
            id: sm_main
            size_hint_x: 0.3
            
            Panel:
            
            Panel2:
            
        ScreenManager:
            id: sm
            size_hint_x: 0.7

            Screen:
                name: "screen0"
                BoxLayout:
                    orientation: 'vertical'
                    canvas:
                        Color:
                            rgb:1,1,1
                        Rectangle:
                            size:self.size
                            pos:self.pos
                    BoxLayout:
                        orientation: 'vertical'
                        size_hint:1,1
                        BoxLayout:
                            orientation: 'horizontal'
                            size_hint:1,1
                            canvas:
                                Color:
                                    rgb:1,1,1
                                Rectangle:
                                    size:self.size
                                    pos:self.pos
                            BoxLayout:
                                orientation: 'horizontal'
                                size_hint:.2,1
                                Image:
                                    id: image
                                    size_hint: .5,.8
                                    size: 100, 100
                                    source:'logo-uaq-png-1.png'
                                    pos:0,0
                            BoxLayout:
                                orientation: 'horizontal'
                                size_hint:.3,1
                                Label:
                                    text: "Agrologistica" 
                                    color: 0,0,0,1
                                    pos:0,0
                                    bold: True
                                    font_size: 38
                            BoxLayout:
                                orientation: 'horizontal'
                                size_hint:.2,.9
                                Image:
                                    id: logoMLab
                                    size_hint: .2, 1
                                    size: .5, .50
                                    source:'diseño logo motuslab-1 fondo blanco png.png'
                                    
                        BoxLayout:
                            orientation: 'horizontal'
                            size_hint:1,1
                            Label:
                                text: "Texto" 
                                
                    BoxLayout:
                        orientation: 'vertical'
                        size_hint:.5,.8
                        Button:
                            text: "Analisis descriptivo"
                            pos_hint: {'x':0.5,'y':0.5}
                        Button:
                            text: "Analisis predictivo"
                            pos_hint: {'x':0.5,'y':0.5}
                    
                        BoxLayout:
                            orientation: 'horizontal'
                            size_hint:.5,.5
                            Button:
                                text: "Ayuda"
                                pos_hint: {'x':.9,'y':0}
                                
                            Button:
                                text: "Créditos"
                                pos_hint: {'x':.9,'y':0}

                        

                        

            Screen1:
            
            Screen2:
            

<Panel>:
    name: "panel_main"
    
    label: label
    usuario: usuario
    
    BoxLayout:
        orientation: 'vertical'
        spacing: 30
        padding: 20
        canvas.before:
            Color:
                rgb: 1,1,1
            Rectangle:
                pos: self.pos
                size: self.size
                source: "corn.jpg"
                
        Image:
            id: usuario
            size_hint_y: 2
            source: str(root.image_path)
            border: 100, 100, 100, 100
                    
                
        Label:
            id: label
            size_hint_x: 1
            color: 0,0,0,1
            bold: True
            font_size: 18
            text: "¡Bienvenido "+str(root.user_name)+"!"
                
        Button:
            size_hint: 0.5, 0.5
            pos_hint: {'x':0.25,'y':0}
            text: "Perfil de usuario"
            on_press:
                root.parent.parent.sm.current = 'screen1'
            background_color: 255, 255, 255, .1
        
        Button:
            size_hint: 0.5, 0.5
            pos_hint: {'x':0.25,'y':0}
            text: "Bases de datos"
            on_press:
                root.parent.parent.sm.transition.direction = 'left'
                root.parent.parent.sm.current = 'screen2'
            background_color: 255, 255, 255, .1
        
        Button:
            size_hint: 0.5, 0.5
            pos_hint: {'x':0.25,'y':0}
            text: "Análisis"
            on_press:
                root.parent.parent.sm.transition.direction = 'left'
                root.parent.parent.sm.current = 'screen2'
            background_color: 255, 255, 255, .1
        Button:
            size_hint: 0.5, 0.5
            pos_hint: {'x':0.25,'y':0}
            text: "Salir"
            on_press:
                root.parent.parent.sm.transition.direction = 'left'
                root.parent.parent.sm.current = 'screen2'
            background_color: 71, 104, 40, .1
                    
        Button:
            size_hint: 0.5, 0.5
            pos_hint: {'x':0.25,'y':0}
            text: "FAQ"
            on_press:
                root.parent.parent.sm.transition.direction = 'left'
                root.parent.parent.sm.current = 'screen2'
            background_color: 71, 104, 40, .1
                        

        Button:
            size_hint: 0.5, 0.5
            pos_hint: {'x':0.25,'y':0}
            text: "Créditos"
            on_press:
                root.parent.parent.sm.transition.direction = 'left'
                root.parent.parent.sm.current = 'screen2'
            background_color: 71, 104, 40, .1
                    

<Panel2>:
    name: "panel2"
    
    label: label
    usuario: usuario
    
    BoxLayout:
        orientation: 'vertical'
        spacing: 30
        padding: 20
        canvas.before:
            Rectangle:
                pos: self.pos
                size: self.size
                source: "corn.jpg"
                
        Image:
            id: usuario
            size_hint_y: 2
            source: str(root.image_path)
            border: 100, 100, 100, 100
                    
                
        Label:
            id: label
            size_hint_x: 1
            color: 0,0,0,1
            bold: True
            font_size: 18
            text: "¡Bienvenido "+str(root.user_name)+"!"
                
        Button:
            size_hint: 0.5, 0.5
            pos_hint: {'x':0.25,'y':0}
            text: "Perfil de usuario"
            on_press:
                root.parent.parent.sm.current = 'screen1'
            background_color: 71, 104, 40, .1
        
        Button:
            size_hint: 0.5, 0.5
            pos_hint: {'x':0.25,'y':0}
            text: "Bases de datos"
            on_press:
                root.parent.parent.sm.transition.direction = 'left'
                root.parent.parent.sm.current = 'screen2'
            background_color: 71, 104, 40, .1
        
        Button:
            size_hint: 0.5, 0.5
            pos_hint: {'x':0.25,'y':0}
            text: "Análisis"
            on_press:
                root.parent.parent.sm.transition.direction = 'left'
                root.parent.parent.sm.current = 'screen2'
            background_color: 71, 104, 40, .1
        Button:
            size_hint: 0.5, 0.5
            pos_hint: {'x':0.25,'y':0}
            text: "Salir"
            on_press:
                root.parent.parent.sm.transition.direction = 'left'
                root.parent.parent.sm.current = 'screen2'
            background_color: 71, 104, 40, .1
                    
        Button:
            size_hint: 0.5, 0.5
            pos_hint: {'x':0.25,'y':0}
            text: "FAQ"
            on_press:
                root.parent.parent.sm.transition.direction = 'left'
                root.parent.parent.sm.current = 'screen2'
            background_color: 71, 104, 40, .1

        Button:
            size_hint: 0.5, 0.5
            pos_hint: {'x':0.25,'y':0}
            text: "Créditos"
            on_press:
                root.parent.parent.sm.transition.direction = 'left'
                root.parent.parent.sm.current = 'screen2'
            background_color: 71, 104, 40, .1

<Screen1>:
    name: "screen1"
    text_input: text_input
    
    BoxLayout:
        orientation: 'vertical'

        
        TextInput:
            id: text_input
            multiline: False
            text: 'Escribe tu nombre'
            background_color: 255, 255, 255, 1
        
        Button:
            text: 'Load'
            color: 148,132,248,1
            on_release: root.show_load()
            background_color: 255, 255, 255, 1
        
        Button:
            text: 'Aplicar'
            color: 148,132,248,1
            on_release: 
                root.parent.parent.sm_main.current = root.panel
            background_color: 255,255,255,1



<LoadDialog>:
    BoxLayout:
        size: root.size
        pos: root.pos
        orientation: "vertical"
        
        FileChooserListView:
            id: filechooser

        BoxLayout:
            size_hint_y: None
            height: 30
            Button:
                text: "Cancel"
                color: 255,255,255,1
                on_release: root.cancel()
                

            Button:
                text: "Load"
                on_release: root.load(filechooser.path, filechooser.selection)
                

               

                           
<Screen2>:
    name: "screen2"
    BoxLayout:
        orientation: 'horizontal'
        rows: 1
        Button:
            text: "Pantalla 2"
            on_release: root.parent.current = 'screen0'
            background_color: 255, 255, 255, 1
